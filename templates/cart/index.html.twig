{% extends 'base.html.twig' %}

{% block title %}Panier{% endblock %}

{% block body %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }

</style>

<header class="d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom">
    <a href="/home" class="d-flex align-items-center mb-2 md-0 me-md-auto text-dark text-decoration-none">
        <img style="margin-left: 20px; margin-right: 20px;" class="bd-placeholder-img rounded-circle" width="50" height="50" src="https://scontent-cdt1-1.xx.fbcdn.net/v/t1.6435-9/150198245_401599697624263_6382796652237736084_n.jpg?_nc_cat=109&ccb=1-5&_nc_sid=09cbfe&_nc_ohc=_v5Vmsjmg7cAX-6KpUq&_nc_ht=scontent-cdt1-1.xx&oh=00_AT8wNPnd6vDTAfJMvQUZglwUdhGGNoo5kkeoirmGFEL_7w&oe=6239907A" alt="Logo food culture street">   
        <span class="fs-4">Food Culture Street</span>
      </a>

      <ul class="nav nav-pills">
        <li class="nav-item"><a href="/home" class="nav-link active" aria-current="page">Home</a></li>
        <li class="nav-item"><a href="/product/show" class="nav-link">Tous les produits</a></li>
        <li class="nav-item"><a href="/logout" class="nav-link">Déconnexion</a></li>
      </ul>
</header>

<section class="bg-light p-3">
</section>

<table class="table">
    <thead>
        <tr>
            <th>Produit</th>
            <th>Prix</th>
            <th>Quantité</th>
            <th class="text-end">Total</th>
            <th class="text-end">Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for element in dataPanier %} 
            <tr>
                <td>{{ element.product.name }}</td>
                <td>{{ element.product.prix }} €</td>
                <td>{{ element.quantity }}</td>
                <td class="text-end">{{ element.quantity * element.product.prix }} €</td>
                <td class="text-end">
                    <a href="{{path("remove", {id: element.product.id})}}" class="btn btn-warning">
                        -
                    </a>
                    <a class="btn btn-success" href="{{path("cart_add", {id: element.product.id})}}">
                        +
                    </a>
                    <a href="{{path("delete", {id: element.product.id})}}" class="btn btn-danger">
                        Supprimer
                    </a>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="5" class="text-center">Votre Panier est vide</td>
            </tr>
            
        {% endfor %}
        {{dump()}}
    </tbody>
    <tfoot>
        <tr>
            <td colspan="3">Total</td>
            <td class="text-end">{{total}} €</td>
            <td><a style="margin-left:40%;" href="" class="btn btn-success">Valider</a></td>
        </tr>
    </tfoot>
</table>
{% endblock %}
